# Next.js プロジェクト構造ドキュメント

このディレクトリには、Next.js + TypeScript プロジェクトでのベストプラクティスな構造設計に関するドキュメントが含まれています。実際のプロジェクト（yuumil）で適用された改善事例を基に作成されており、将来のプロジェクトで再利用可能な形式で整理されています。

## 📚 ドキュメント一覧

### 1. [プロジェクト構造ガイド](./project-structure-guide.md)

**対象**: 新規プロジェクト開始時、既存プロジェクトの構造見直し時

Next.js プロジェクトにおける推奨ディレクトリ構造とファイル配置のベストプラクティスを詳しく説明します。

**内容**:

- 全体構造の概観
- 型定義の整理方法
- コンポーネントの分類ルール
- ユーティリティの整理
- API ルートの設計
- ネーミング規約

### 2. [実装例とテンプレートコード](./implementation-examples.md)

**対象**: 実装開始時、具体的なコード例が必要な時

プロジェクト構造ガイドに基づいた具体的な実装例とコピペ可能なテンプレートコードを提供します。

**内容**:

- 初期セットアップスクリプト
- 型定義テンプレート
- コンポーネントテンプレート
- ユーティリティテンプレート
- API ルートテンプレート
- 設定ファイルサンプル

### 3. [プロジェクト移行チェックリスト](./migration-checklist.md)

**対象**: 既存プロジェクトの構造改善時

既存の Next.js プロジェクトを推奨構造に段階的に移行するための詳細なチェックリストです。

**内容**:

- 移行前の準備作業
- 優先度別タスク整理
- 段階的移行戦略
- よくある問題と対処法
- 移行後の確認事項

## 🎯 使用シナリオ

### 新規プロジェクト開始時

1. **プロジェクト構造ガイド**を読んで全体像を把握
2. **実装例とテンプレート**からセットアップスクリプト実行
3. 必要なテンプレートをコピーして開発開始

### 既存プロジェクト改善時

1. **プロジェクト構造ガイド**で現在の構造と比較
2. **移行チェックリスト**に従って段階的に改善
3. **実装例とテンプレート**を参考に新しい構造に移行

### チーム開発時

1. チーム内で**プロジェクト構造ガイド**を共有
2. **実装例とテンプレート**をコーディング規約として採用
3. **移行チェックリスト**でコードレビューの観点を統一

## 🏗️ 適用事例: yuumil プロジェクト

このドキュメントは、yuumil（YouTube 動画キュレーションアプリ）で実際に適用された構造改善の経験を基に作成されています。

### 技術スタック

- **フレームワーク**: Next.js 15.3.2 (App Router)
- **言語**: TypeScript
- **認証**: Clerk
- **データベース**: Supabase + Prisma
- **UI**: TailwindCSS + Radix UI
- **状態管理**: SWR

### 改善成果

- **型安全性の向上**: 型定義の一元化により型エラーが激減
- **開発効率の向上**: コンポーネントの再利用性向上
- **保守性の向上**: 機能別ディレクトリ分割により影響範囲が明確化
- **コード品質の向上**: バリデーション・定数の統一化

### 改善項目

1. **型定義統合**: 分散していた型定義を`src/types/`に統合
2. **コンポーネント分離**: 機能別に`src/components/features/`配下に整理
3. **ユーティリティ整理**: `src/lib/`以下に機能別分類
4. **API 構造改善**: RESTful 設計の徹底とエラーハンドリング統一

## ⚙️ 前提条件

これらのドキュメントは以下の環境・技術を前提としています：

### 必須

- Next.js 13 以降 (App Router 使用)
- TypeScript
- Node.js 18 以降

### 推奨

- データベース: Supabase/Prisma/Drizzle 等の Typescript 対応 ORM
- 認証: Clerk/NextAuth.js/Auth0 等
- UI: TailwindCSS + Shadcn/ui/Radix UI 等
- 状態管理: SWR/TanStack Query 等

## 🚀 クイックスタート

新規プロジェクトで即座に適用したい場合：

```bash
# 1. ディレクトリ構造作成
mkdir -p src/{types,components/{ui,common,forms,features,layout},lib/{constants,validations,auth,database,hooks},app/api/{auth,users,health},dal}

# 2. 基本ファイル作成
touch src/types/{index,database,api,ui}.ts
touch src/lib/constants/index.ts
touch src/lib/validations/index.ts

# 3. 環境変数テンプレート作成
cp docs/implementation-examples.md .env.example
```

詳細は**実装例とテンプレートコード**をご参照ください。

## 🔄 アップデート方針

これらのドキュメントは以下の場合に更新されます：

- Next.js の新機能・ベストプラクティスの変更
- TypeScript の機能追加・推奨事項の変更
- 実際のプロジェクト適用での新たな知見
- コミュニティフィードバック

## 📝 フィードバック

ドキュメントの改善提案や質問があれば、プロジェクト内で共有してください。

---

**最終更新**: 2024 年 12 月
**対象バージョン**: Next.js 15.x, TypeScript 5.x
